{"config":{"lang":["en"],"separator":"[\\s\\-,:!=\\[\\]()\"`/]+|\\.(?!\\d)|&[lg]t;|(?!\\b)(?=[A-Z][a-z])","pipeline":["stopWordFilter"]},"docs":[{"location":"getting-started/","title":"QUICK START","text":"<p>Install using pip</p> <pre><code>pip install dowse\n</code></pre>"},{"location":"getting-started/#basic-usage","title":"Basic Usage","text":"<p><code>dowse</code> is a lightweight framework that abstracts the complexity around building an agent that ingests data sources, routes the command to the appropriate combination of prompts, tools and context, and executes the command and any side effects necessary.</p> <pre><code>import asyncio\nfrom datetime import datetime\n\nfrom pydantic import BaseModel\n\nfrom dowse import Executor, Processor\nfrom dowse.models import AgentMessage\n\n\ndef get_current_time() -&gt; str:\n    \"\"\"returns the current time\"\"\"\n    return datetime.now().strftime(\"%Y-%m-%d %H:%M:%S\")\n\n\nclass Note(BaseModel):\n    \"\"\"The base model for data ingested from a data source\"\"\"\n\n    name: str\n    content: str\n\n\nclass UserNote(BaseModel):\n    \"\"\"A note that contains user specific data\"\"\"\n\n    name: str\n    content: str\n    fun_fact: str\n\n\nclass NoteSummary(BaseModel):\n    \"\"\"A psychological analysis of the user who wrote the note.  Relate it to his fun fact and how it might drive them to have this opinion\"\"\"\n\n    summary: str\n    recommendations: list[str]\n    timestamp: str\n\n\nclass AddUserFact(Processor[Note, UserNote]):\n    async def execute(self, note: Note) -&gt; UserNote:\n        if note.name == \"John\":\n            return UserNote(\n                fun_fact=\"John is a professional juggler who once juggled 17 rubber ducks while riding a unicycle backwards\",\n                **note.model_dump(),\n            )\n        elif note.name == \"Alice\":\n            return UserNote(\n                fun_fact=\"Alice is a quantum physicist who discovered three new particles while making her morning coffee\",\n                **note.model_dump(),\n            )\n        elif note.name == \"Bob\":\n            return UserNote(\n                fun_fact=\"Bob is a master chef who can taste a dish and instantly list all 47 ingredients used to make it\",\n                **note.model_dump(),\n            )\n        raise ValueError(\"No facts for user\")\n\n\nexecutor = Executor[\n    Note,  # the input type of the first processor\n    UserNote,  # type once all processors are run\n    NoteSummary,  # the output type of the last processor\n](\n    processors=[\n        AddUserFact(),\n    ],\n    prompt=\"\"\"\n        You are a helpful assistant that receives notes, and you will respond by analyzing the note and\n        how it relates to the user's fun fact.\n\n        Make sure to timestamp and log your response.\n    \"\"\",\n    tools=[\n        get_current_time,\n    ],\n)\n\n\nasync def amain() -&gt; None:\n    response: AgentMessage[NoteSummary] = await executor.execute(\n        Note(\n            name=\"John\",\n            content=\"I can't keep up with all these things in flight.  It makes me feel loco!!!\",\n        )\n    )\n    assert (\n        response.content is not None\n    ), \"this should not error because John is in the user data\"\n\n    print(\"TIMESTAMP:\", response.content.timestamp)\n    print(\"SUMMARY:\", response.content.summary)\n\n    print(\"RECOMMENDATIONS:\")\n    for recommendation in response.content.recommendations:\n        print(\"\\t- \", recommendation)\n\n\nasyncio.run(amain())\n</code></pre> <p>And when we run this we get back something like:</p> <pre><code>TIMESTAMP: 2025-02-18 04:12:10\nSUMMARY: John is probably a person who likes to challenge himself with tasks that require high levels of concentration and multitasking, as evidenced by his ability to juggle 17 rubber ducks while riding a unicycle backwards. This note suggests he might be feeling overwhelmed or stressed by the number of things he has to manage, possibly because they lack the structured environment similar to his juggling act. Juggling, in a metaphorical sense, might be easier for John because it has defined edges and patterns, unlike chaotic and unpredictable real-life events.\nRECOMMENDATIONS:\n        -  Apply structured approaches to task management, such as using a priority matrix or checklist.\n        -  Relate the tasks to juggling by visualizing managing them like juggling items, focusing on maintaining rhythm and balance.\n        -  Take regular breaks to help reset and clear the mind, just like a juggler does between performances.\n        -  Simplify tasks into smaller, manageable components, akin to juggling fewer items first.\n</code></pre>"}]}